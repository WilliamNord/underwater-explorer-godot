[gd_scene load_steps=30 format=4 uid="uid://s36ch8poy7w6"]

[ext_resource type="Script" uid="uid://bgukvlkpaflmq" path="res://scripts/world_setup.gd" id="1_4mrxx"]
[ext_resource type="PackedScene" uid="uid://dh40ftd6ea0y1" path="res://scenes/player.tscn" id="2_fj7yv"]
[ext_resource type="Texture2D" uid="uid://imasuu1n54re" path="res://assets/blue-background.png" id="4_71j4m"]
[ext_resource type="Script" uid="uid://35g8nvnw37gr" path="res://scripts/water.gd" id="4_k0juu"]
[ext_resource type="PackedScene" uid="uid://cixa1oe1auol" path="res://scenes/wave_shader.tscn" id="4_qfnet"]
[ext_resource type="Texture2D" uid="uid://c3lm3rqsrn5s1" path="res://assets/tilemap_retouched.png" id="5_i7141"]
[ext_resource type="Texture2D" uid="uid://cpl6bwlbnqvr5" path="res://assets/light_texture.jpeg" id="6_qfnet"]
[ext_resource type="PackedScene" uid="uid://vp7aptuo3434" path="res://godrays.tscn" id="9_7r4gi"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_gv5m4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f3sb7"]
size = Vector2(350, 112)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4wyf3"]
size = Vector2(6753, 3409.26)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7r4gi"]
size = Vector2(6744, 93.5188)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_71j4m"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_xo05s"]
polygon = PackedVector2Array(-5, -8, 0, -8, 0, -7, 2, -7, 2, -6, 3, -6, 3, -7, 4, -7, 4.01668, -8, 6, -8, 6, -7, 8, -7, 8, -4, 7, -4, 7, 2, 8, 1.84712, 8, 5, 7, 5, 7, 6, 6, 6, 6, 7, 5, 7, 5.11199, 8, 2, 8, 2, 7, 0, 7, 0.0486088, 8, -4, 8, -4, 7, -7, 7, -7, 4, -8, 4, -8, 2, -7, 2, -7, -1, -8, -1, -8, -4, -7, -4, -7, -7, -5, -7)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_dss4m"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_7t5mc"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_lakw3"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_pm21f"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_2lf6f"]
polygon = PackedVector2Array(-7, -7, -6, -7, -6, -6, -4, -6, -4, -5, -3, -5, -3, -6, -2, -6, -2, -7, -1, -7, -1, -8, 3, -8, 3.00769, -7.15325, 5, -7, 5, -6, 8, -6, 8, 8, -8, 8, -8, 4, -7, 4, -7.05832, 3.3001, -5, 3, -5, 1, -6, 1, -6, 0, -7, 0, -7, -1, -8, -1, -8, -1.84552, -7, -2, -7, -5, -8, -5, -8, -6, -7, -6)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_7iits"]
polygon = PackedVector2Array(-7, -8, 8, -8, 8, 8, -8, 8, -8, 6, -6, 6, -6, 3, -7, 3, -7, 2, -8, 2, -8, 1, -7, 1, -7, -2, -8, -1.79676, -8, -2, -8, -3, -6, -3, -6, -7, -7, -7)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_oo54l"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 7, 4, 7, 2, 7, 2, 8, 0, 8, 0, 6, -3, 6, -4, 6, -4, 7, -7, 7, -7, 6, -8, 6, -8, 5, -7, 5, -7, 2, -8, 2, -8, -1, -7, -1, -7, -3, -6, -3, -6, -6, -8, -6)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_kpybi"]
polygon = PackedVector2Array(8, -7, 8, 8, -8, 8, -8, -7, -7, -7, -7, -8, -6, -8, -5, -8, -5, -7, -4, -7, -4, -6, -3, -6, -3, -8, -1, -8, -1, -7, 2, -7, 2, -8, 3, -8, 3, -7, 4, -7, 4, -6, 5, -6, 5, -8, 7, -8, 7, -7)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ctatt"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_xgqkh"]
polygon = PackedVector2Array(-8, 7, -8, -8, 8, -8, 8, 7, 7, 7, 7, 8, 6, 8, 5, 8, 5, 7, 4, 7, 4, 8, 2, 8, 2, 7, -1, 7, -1, 8, -3, 8, -3, 6, -6, 6, -6, 8, -8, 8)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_munwf"]
polygon = PackedVector2Array(7, -7, 4, -7, 4, -5, 1, -5, 1, -6, -1, -6, -1, -8, -3, -8, -3, -7, -6, -7, -6, -8, -7, -8, -7, -7, -8, -7, -8, 8, 8, 8, 8, 4, 6, 4, 6, 3, 5, 3, 5, 1, 8, 1, 8, -1, 8, -2, 7, -2, 7, -5, 8, -5, 8, -6, 7, -6)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ts3gi"]
polygon = PackedVector2Array(7, 8, -8, 8, -8, -8, 7, -8, 7, -7, 8, -7, 8, -6, 8, -5, 7, -5, 7, -4, 8, -4, 8, -2, 6, -2, 6, 1, 8, 1, 8, 4, 7, 4, 7, 5, 8, 5, 8, 7, 7, 7)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_0nbtd"]
polygon = PackedVector2Array(7, -7, 7, -8, -8, -8, -8, 7, -3, 7, -3, 8, -1, 8, -1, 7, 0, 7, 0, 6, 1, 6, 1, 5, 4, 5, 4, 6, 5, 6, 5, 7, 7, 7, 7, 6, 8, 6, 8, 5, 7, 5, 7, 2, 8, 2, 8, -1, 7, -1, 7, -5, 8, -5, 8, -7)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4mrxx"]
texture = ExtResource("5_i7141")
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_xo05s")
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_pm21f")
0:1/0 = 0
0:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_dss4m")
1:1/0 = 0
1:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_2lf6f")
2:1/0 = 0
2:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_kpybi")
3:1/0 = 0
3:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_munwf")
0:2/0 = 0
0:2/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_7t5mc")
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_7iits")
2:2/0 = 0
2:2/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_ctatt")
3:2/0 = 0
3:2/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_ts3gi")
0:3/0 = 0
0:3/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_lakw3")
1:3/0 = 0
1:3/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_oo54l")
2:3/0 = 0
2:3/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_xgqkh")
3:3/0 = 0
3:3/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_0nbtd")
0:4/0 = 0
1:4/0 = 0
1:5/0 = 0
1:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:5/0 = 0
2:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:6/0 = 0
3:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:6/0 = 0
4:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:7/0 = 0
4:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:7/0 = 0
5:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:7/0 = 0
6:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:7/0 = 0
7:6/0 = 0
7:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:5/0 = 0
7:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:5/0 = 0
6:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:4/0 = 0
6:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:4/0 = 0
5:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:4/0 = 0
3:4/0 = 0
2:4/0 = 0
0:5/0 = 0
0:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:6/0 = 0
0:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:7/0 = 0
0:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:7/0 = 0
1:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:7/0 = 0
2:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:6/0 = 0
2:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:5/0 = 0
3:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:6/0 = 0
3:7/0 = 0
5:6/0 = 0
5:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:5/0 = 0
5:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:6/0 = 0
6:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:5/0 = 0
4:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:3/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
6:3/0 = 0
7:3/0 = 0
7:4/0 = 0
7:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:2/0 = 0
5:3/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
5:1/0 = 0
4:1/0 = 0
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:1/0 = 0
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:1/0 = 0
6:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_i7141"]
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
physics_layer_0/physics_material = SubResource("PhysicsMaterial_71j4m")
sources/0 = SubResource("TileSetAtlasSource_4mrxx")

[node name="world" type="Node2D"]
script = ExtResource("1_4mrxx")

[node name="land" type="StaticBody2D" parent="."]
position = Vector2(131, 551)
physics_material_override = SubResource("PhysicsMaterial_gv5m4")

[node name="CollisionShape2D" type="CollisionShape2D" parent="land"]
position = Vector2(41, 33)
shape = SubResource("RectangleShape2D_f3sb7")

[node name="player" parent="." instance=ExtResource("2_fj7yv")]
position = Vector2(154, 451)

[node name="Ocean" type="Area2D" parent="."]
position = Vector2(489, 1062)
scale = Vector2(1, 1.08)
script = ExtResource("4_k0juu")

[node name="Blue-background" type="Sprite2D" parent="Ocean"]
z_index = -1
texture_filter = 6
position = Vector2(-491.996, 1282)
scale = Vector2(4.22125, 2.13125)
texture = ExtResource("4_71j4m")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ocean"]
z_index = -2
position = Vector2(-485, 1282.41)
shape = SubResource("RectangleShape2D_4wyf3")

[node name="godrays" parent="Ocean" instance=ExtResource("9_7r4gi")]
anchors_preset = 0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = -523.0
offset_top = -421.0
offset_right = 2885.0
offset_bottom = 1390.0
grow_horizontal = 1
grow_vertical = 1

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Ocean"]
position = Vector2(-490, 1248.61)
shape = SubResource("RectangleShape2D_7r4gi")

[node name="waves" parent="." instance=ExtResource("4_qfnet")]
position = Vector2(648, 571)
wave_height = 90

[node name="TileMapLayer" type="TileMapLayer" parent="."]
texture_filter = 1
position = Vector2(2, 0)
scale = Vector2(7, 7)
tile_map_data = PackedByteArray("AAAHAAsAAAADAAUAAAAHAAwAAAADAAYAAAAIAAwAAAAEAAYAAAAJAA0AAAAFAAcAAAAKAA0AAAAFAAcAAAALAA0AAAAGAAcAAAALAAwAAAAGAAYAAAAMAAwAAAAHAAYAAAAMAAsAAAAHAAUAAAAMAAoAAAAHAAQAAAALAAoAAAAGAAQAAAAKAAoAAAAGAAQAAAAKAAsAAAAGAAUAAAAJAAsAAAAFAAUAAAAJAAwAAAAFAAYAAAAKAAwAAAAGAAUAAAALAAsAAAAGAAUAAAAIAAsAAAAEAAUAAAAJAAoAAAAFAAQAAAAHABUAAAAHAAQAAAADABUAAAAGAAQAAAAHABYAAAAHAAUAAAAHABcAAAAHAAUAAAAHABgAAAAHAAUAAAAHABkAAAAGAAcAAAADABkAAAAFAAcAAAADABYAAAAGAAUAAAADABcAAAAGAAUAAAADABgAAAAGAAUAAAAMABUAAAAAAAUAAAAPABUAAAAGAAAAAAAQABUAAAACAAEAAAARABUAAAACAAEAAAASABUAAAAGAAEAAAATABUAAAABAAUAAAAUABUAAAABAAUAAAAVABUAAAACAAUAAAAMABkAAAAAAAcAAAANABkAAAABAAcAAAAOABkAAAABAAcAAAAPABkAAAABAAcAAAAQABkAAAABAAcAAAARABkAAAABAAcAAAASABkAAAABAAcAAAATABkAAAABAAcAAAAUABkAAAABAAcAAAAVABkAAAACAAcAAAAVABcAAAACAAYAAAAVABgAAAACAAYAAAAVABYAAAACAAYAAAACABkAAAAFAAcAAAABABkAAAAFAAcAAAAAABkAAAAFAAcAAAD//xkAAAAFAAcAAAD+/xkAAAAFAAcAAAD9/xkAAAAFAAcAAAD8/xkAAAAFAAcAAAD7/xkAAAAFAAcAAAD6/xkAAAAFAAcAAAD5/xkAAAAFAAcAAAD4/xkAAAAEAAcAAAD4/xgAAAAHAAUAABD4/xcAAAAHAAUAABD4/xYAAAAHAAUAABD4/xUAAAAFAAQAAAD5/xUAAAAGAAQAAAD6/xUAAAAGAAQAAAD7/xUAAAAGAAQAAAD8/xUAAAAGAAQAAAD9/xUAAAAGAAQAAAD+/xUAAAAGAAQAAAD//xUAAAAGAAQAAAAAABUAAAAGAAQAAAABABUAAAAGAAQAAAACABUAAAAGAAQAAAACABgAAAAGAAUAAAD//xgAAAAGAAUAAAD//xcAAAAGAAUAAAD//xYAAAAGAAUAAAD+/xYAAAAGAAUAAAD9/xYAAAAGAAUAAAD8/xYAAAAGAAUAAAD7/xYAAAAGAAUAAAD6/xYAAAAGAAUAAAD5/xYAAAAGAAUAAAD5/xcAAAAGAAUAAAD5/xgAAAAGAAUAAAD6/xgAAAAGAAUAAAD6/xcAAAAGAAUAAAD7/xcAAAAGAAUAAAD7/xgAAAAGAAUAAAD8/xgAAAAGAAUAAAD8/xcAAAAGAAUAAAD9/xcAAAAGAAUAAAD9/xgAAAAGAAUAAAD+/xgAAAAGAAUAAAD+/xcAAAAGAAUAAAAAABYAAAAGAAUAAAAAABcAAAAGAAUAAAAAABgAAAAGAAUAAAABABgAAAAGAAUAAAABABcAAAAGAAUAAAABABYAAAAGAAUAAAACABYAAAAGAAUAAAACABcAAAAGAAUAAAAFACEAAAAEAAUAAAAGACEAAAAEAAUAAAAHACEAAAAEAAUAAAAIACEAAAAEAAUAAAAJACEAAAAEAAUAAAAKACEAAAAEAAUAAAALACEAAAAEAAUAAAAMACEAAAAEAAUAAAANACEAAAAEAAUAAAAOACEAAAAEAAUAAAAPACEAAAAEAAUAAAAQACEAAAAEAAUAAAARACEAAAAEAAUAAAASACEAAAAEAAUAAAATACAAAAAHAAUAADATAB8AAAAHAAUAADAUAB4AAAAEAAUAAAAVAB4AAAAEAAUAAAAWAB4AAAAEAAUAAAAXAB4AAAAEAAUAAAAYAB4AAAAEAAUAAAAZAB4AAAAEAAUAAAANAAsAAAAAAAAAAAAIAA0AAAAEAAcAAAAaAB4AAAAEAAUAAAATACEAAAAFAAUAAAATAB4AAAAFAAQAAAAGABUAAAAGAAQAAAAFABUAAAAGAAQAAAAEABUAAAAGAAQAAAAGABkAAAAFAAcAAAAFABkAAAAFAAcAAAAEABkAAAAFAAcAAAAEABcAAAAGAAUAAAAEABYAAAAGAAUAAAAFABYAAAAGAAUAAAAFABcAAAAGAAUAAAAFABgAAAAGAAUAAAAEABgAAAAGAAUAAAAGABgAAAAGAAUAAAAGABcAAAAGAAUAAAAGABYAAAAGAAUAAAAMABgAAAAAAAYAAAAMABcAAAAAAAYAAAAMABYAAAAAAAYAAAAOABUAAAABAAUAAAANABUAAAABAAUAAAA=")
tile_set = SubResource("TileSet_i7141")

[node name="sun" type="PointLight2D" parent="."]
position = Vector2(-74, 332)
scale = Vector2(2.96079, 1.36704)
energy = 1.55
texture = ExtResource("6_qfnet")
texture_scale = 23.51

[node name="darkness_light" type="DirectionalLight2D" parent="."]
position = Vector2(565, -236)
enabled = false
color = Color(0, 0, 0, 1)
blend_mode = 2

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
offset_left = 1444.0
offset_top = 1109.0
offset_right = 2960.0
offset_bottom = 1746.0

[connection signal="body_entered" from="Ocean" to="Ocean" method="_on_body_entered"]
[connection signal="body_exited" from="Ocean" to="Ocean" method="_on_body_exited"]
